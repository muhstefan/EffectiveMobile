{% extends "base.html" %}

{% block title %}–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <h2>üìù –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h2>
        
        {% if error %}
            <div class="alert alert-error">{{ error }}</div>
        {% endif %}
        
        {% if success %}
            <div class="alert alert-success">
                {{ success }}
                <p style="margin-top: 0.5rem; font-size: 0.875rem;">
                    –ß–µ—Ä–µ–∑ <span id="countdown">5</span> —Å–µ–∫—É–Ω–¥ –≤—ã –±—É–¥–µ—Ç–µ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤—Ö–æ–¥–∞...
                </p>
            </div>
            <script>
                let countdown = 5;
                const countdownElement = document.getElementById('countdown');
                const timer = setInterval(() => {
                    countdown--;
                    countdownElement.textContent = countdown;
                    if (countdown <= 0) {
                        clearInterval(timer);
                        window.location.href = '/auth/login';
                    }
                }, 1000);
            </script>
        {% endif %}
        
        <form method="post" action="/auth/register" class="auth-form">
            <div class="form-row">
                <div class="form-group">
                    <label for="first_name">–ò–º—è:</label>
                    <input type="text" id="first_name" name="first_name" required 
                           placeholder="–ò–≤–∞–Ω" value="{{ first_name|default('') }}">
                </div>
                
                <div class="form-group">
                    <label for="last_name">–§–∞–º–∏–ª–∏—è:</label>
                    <input type="text" id="last_name" name="last_name" required 
                           placeholder="–ò–≤–∞–Ω–æ–≤" value="{{ last_name|default('') }}">
                </div>
            </div>
            
            <div class="form-group">
                <label for="middle_name">–û—Ç—á–µ—Å—Ç–≤–æ (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ):</label>
                <input type="text" id="middle_name" name="middle_name" 
                       placeholder="–ò–≤–∞–Ω–æ–≤–∏—á" value="{{ middle_name|default('') }}">
            </div>
            
            <div class="form-group">
                <label for="email">Email:</label>
                <input type="email" id="email" name="email" required 
                       placeholder="ivan@example.com" value="{{ email|default('') }}">
            </div>
            
            <div class="form-group">
                <label for="password">–ü–∞—Ä–æ–ª—å:</label>
                <input type="password" id="password" name="password" required 
                       placeholder="–ú–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤" minlength="8">
            </div>
            
            <div class="form-group">
                <label for="password_confirm">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è:</label>
                <input type="password" id="password_confirm" name="password_confirm" required 
                       placeholder="–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å" minlength="8">
            </div>
            
            <button type="submit" class="btn btn-primary btn-full">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
        </form>
        
        <div class="auth-links">
            <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="/auth/login">–í–æ–π—Ç–∏</a></p>
            <p><a href="/">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a></p>
        </div>
        
        {% if success %}
        <div class="success-actions" style="margin-top: 1rem; text-align: center;">
            <a href="/auth/login" class="btn btn-primary">–ü–µ—Ä–µ–π—Ç–∏ –∫ –≤—Ö–æ–¥—É</a>
        </div>
        {% endif %}
    </div>
</div>
{% endblock %}

