{% extends "base.html" %}

{% block title %}–ü—Ä–æ–¥—É–∫—Ç—ã - –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏{% endblock %}

{% block content %}
<div class="products-container">
    <div class="products-header">
        <h1>üì¶ –ü—Ä–æ–¥—É–∫—Ç—ã</h1>
        {% if can_create %}
            <a href="/business/products/create" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç</a>
        {% endif %}
    </div>
    
    {% if error %}
        <div class="alert alert-error">{{ error }}</div>
    {% endif %}
    
    {% if products %}
        <div class="products-grid">
            {% for product in products %}
            <div class="product-card">
                <div class="product-header">
                    <h3>{{ product.name }}</h3>
                    <span class="product-category">{{ product.category }}</span>
                </div>
                
                {% if product.description %}
                <p class="product-description">{{ product.description }}</p>
                {% endif %}
                
                <div class="product-footer">
                    <div class="product-price">{{ product.price }} ‚ÇΩ</div>
                    <div class="product-actions">
                        {% if can_order %}
                            <a href="/business/orders/create?product_id={{ product.id }}" class="btn btn-sm btn-primary">–ó–∞–∫–∞–∑–∞—Ç—å</a>
                        {% endif %}
                        {% if can_edit %}
                            <a href="/business/products/{{ product.id }}/edit" class="btn btn-sm btn-secondary">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                        {% endif %}
                        {% if can_delete %}
                            <a href="/business/products/{{ product.id }}/delete" class="btn btn-sm btn-danger"
                               onclick="return confirm('–£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–¥—É–∫—Ç?')">–£–¥–∞–ª–∏—Ç—å</a>
                        {% endif %}
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
    {% else %}
        <div class="empty-state">
            <h2>–ü—Ä–æ–¥—É–∫—Ç—ã –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h2>
            <p>–ü–æ–∫–∞ –Ω–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤.</p>
            {% if can_create %}
                <a href="/business/products/create" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç</a>
            {% endif %}
        </div>
    {% endif %}
    
    <div class="permissions-info">
        <h3>–í–∞—à–∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞:</h3>
        <ul>
            <li>–ß—Ç–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ‚úÖ</li>
            {% if can_create %}
                <li>–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ‚úÖ</li>
            {% else %}
                <li>–°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ‚ùå</li>
            {% endif %}
            {% if can_order %}
                <li>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤: ‚úÖ</li>
            {% else %}
                <li>–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤: ‚ùå</li>
            {% endif %}
            {% if can_edit %}
                <li>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ‚úÖ</li>
            {% else %}
                <li>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ‚ùå</li>
            {% endif %}
            {% if can_delete %}
                <li>–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ‚úÖ</li>
            {% else %}
                <li>–£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: ‚ùå</li>
            {% endif %}
        </ul>
    </div>
</div>
{% endblock %}



